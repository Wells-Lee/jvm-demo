# 一、JVM空间
线程私有：
- 虚拟机栈
    - 局部变量表
    - 操作数栈
    - 动态链接
    - 方法返回地址
    - 一些附加信息
- 本地方法栈
- 程序计数器

线程共享：
- 堆
- 方法区
- 运行时常量池

## 1.1、虚拟机栈
最小单位:Stack Frame栈帧；对方法、局部变量的入栈出栈；线程私有的空间  
栈溢出举例：StackOverflowTest.java

## 1.2、本地方法栈
主要用于存储本地方法信息

## 1.3、程序计数器(Program Counter)

## 1.4、堆(Heap)
线程共享，存放对象实例，而对象的引用在栈上；
与堆相关的就是垃圾收集器，现在几乎所有的垃圾收集器采用的都是分代收集算法；
堆进行了相应的划分：新生代、老年代、Eden空间、From Survivor、To Survivor

关于Java对象创建的过程，new关键字创建对象的3个步骤：
- 在堆内存中创建出对象的实例
```text
指针碰撞：前提是堆中的空间通过一个指针进行分割，一侧是已经被占用的空间，另一侧是未被占用的空间；  

空闲列表：前提是堆中的空间已经被使用的空间与空间的空间是交织在一起的。这时虚拟机需要一个列表来记录哪些空间是可以使用的，哪些空间是未被使用的；
接下来找出可以容纳下新对象的且未被使用的空间，在此空间上存放该对象，同时还要修改列表上的记录；
```
- 为对象的成员变量赋初值
- 返回对象引用

堆溢出举例：HeapOOMTest.java

## 1.5、方法区(Method Area)
存储元信息，常量、class公有的信息等；也被称为永久代，但是从jdk1.8开始已经被废弃，使用元空间(Meta Space)代替

## 1.6、运行时常量池
编译期间已经开辟好的

## 1.7、直接内存(Direct Memory)
与Java NIO密切相关，JVM通过堆上的DirectByteBuffer来操作直接内存